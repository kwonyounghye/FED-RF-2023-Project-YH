;/*FB_PKG_DELIM*/

__d("PolarisPostCommentsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"media_id"},{defaultValue:"popular",kind:"LocalArgument",name:"sort_order"}],b={kind:"Variable",name:"sort_order",variableName:"sort_order"},c=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},b],d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentsPaginationQuery",selections:[{args:[b],kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentsPaginationQuery",selections:[{alias:null,args:c,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"7447797191913876",metadata:{},name:"PolarisPostCommentsPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostAllCommentsFragment_items_connection.graphql",["PolarisPostCommentsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["xdt_api__v1__media__media_id__comments__connection"];return{argumentDefinitions:[{kind:"RootArgument",name:"after"},{kind:"RootArgument",name:"before"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"last"},{kind:"RootArgument",name:"media_id"},{defaultValue:"popular",kind:"LocalArgument",name:"sort_order"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:[],operation:b("PolarisPostCommentsPaginationQuery.graphql")}},name:"PolarisPostAllCommentsFragment_items_connection",selections:[{alias:"xdt_api__v1__media__media_id__comments__connection",args:[{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"sort_order",variableName:"sort_order"}],concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"__PolarisPostComments__xdt_api__v1__media__media_id__comments__connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostMobileComment_comment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostAllComments_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostAllComments_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"owner.pk"}],storageKey:null},action:"THROW",path:"owner"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCommentsContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"last"},e={defaultValue:null,kind:"LocalArgument",name:"media_id"},f=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Literal",name:"sort_order",value:"popular"}],g={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,e,c,d],kind:"Operation",name:"PolarisPostCommentsContainerQuery",selections:[{alias:null,args:f,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"10045061038901041",metadata:{},name:"PolarisPostCommentsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisPostCommentsContainer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainer_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllComments_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentInputRevampedMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"connections"},b={defaultValue:null,kind:"LocalArgument",name:"media_id"},c={defaultValue:null,kind:"LocalArgument",name:"request_data"},d=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.created_at"},{kind:"RequiredField",field:f,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.pk"},{kind:"RequiredField",field:g,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j],storageKey:null},action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:"6501824036519944",metadata:{},name:"PolarisPostCommentInputRevampedMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("IGDSInfiniteScrollTrigger.react",["react","useAfterPaint","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){var b=a.children,d=a["data-testid"],e=a.hasMore,f=a.isLoading,g=a.onLoadMore;d=a.rootMargin;a=d===void 0?0:d;var h=k(!1);d=j(function(){e&&!f&&h.current&&g()},[e,f,g]);c("useAfterPaint")(d);d=j(function(){var a=h.current;h.current=!0;!a&&e&&!f&&g()},[e,f,g]);var l=j(function(){h.current=!1},[]);l=c("useVisibilityObserver")({onHidden:l,onVisible:d,options:{rootMargin:a}});return e||f?i.jsx("div",{"data-testid":void 0,ref:l,children:b}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostAllComments.react",["BaseButton.react","CometRelay","IGDSBox.react","IGDSInfiniteScrollTrigger.react","IGDSSpinner.react","IGDSText.react","PolarisCommentsSortContext","PolarisGenericStrings","PolarisLoggerUtils","PolarisMobileSponsoredPersistentCTA.react","PolarisNoCommentsPlaceholder.react","PolarisPostAllCommentsFragment_items_connection.graphql","PolarisPostAllComments_media.graphql","PolarisPostUtils","PolarisSortCommentsUtil","cr:4275","cr:6742","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext,n=80,o={noCommentsContainer:{flexGrow:"x1iyjqo2",$$css:!0},persistentCTAPadding:{paddingBottom:"xo5ses6",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function a(a){var e=a.adInfo,f=a.enablePersistentCta,g=a.media$key,k=a.paginationQuery,r=a.postCaptionComponent,s=a.shouldUseInfiniteScroll;a=a.xStyle;k=d("CometRelay").usePaginationFragment(h!==void 0?h:h=b("PolarisPostAllCommentsFragment_items_connection.graphql"),k);var t=k.data.xdt_api__v1__media__media_id__comments__connection.edges,u=k.hasNext,v=k.isLoadingNext,w=k.loadNext,x=k.refetch;k=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostAllComments_media.graphql"),g);e=(g=e==null?void 0:e.tracking_token)!=null?g:"";var y=k.code;g=k.comments_disabled;var z=k.owner.pk,A=k.pk;k=m(d("PolarisCommentsSortContext").PolarisCommentsSortContext);k=k.commentsSortOrder;var B=function(a){x({media_id:A,sort_order:String(a)})},C=function(){w(10)};C={handleLoadNext:C,hasNext:u,isLoadingNext:v};u=t!=null&&t.length===0;v=d("PolarisLoggerUtils").getFormattedMediaID(A,z);k=d("PolarisSortCommentsUtil").showCommentsSortOptions(k,t==null?void 0:t.length);return l.jsxs("div",{className:(j||(j=c("stylex")))(o.root,a,f===!0&&o.persistentCTAPadding),"data-testid":void 0,children:[r!=null&&r,u&&g!==!0&&l.jsx("div",{className:"x1iyjqo2",children:l.jsx(c("PolarisNoCommentsPlaceholder.react"),{})}),k&&b("cr:6742")!=null&&l.jsx(b("cr:6742"),{fetchComments:B}),t==null?void 0:t.map(function(a){a=a.node;return l.jsx(b("cr:4275"),{mediaCode:y,mediaId:A,mediaOwnerId:z,queryReference:a},a.pk)}),f===!0?l.jsx(c("PolarisMobileSponsoredPersistentCTA.react"),{bottomOffset:n,ctaAdditionalAnimation:d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP,mpk:v,trackingToken:e}):null,s?l.jsx(p,babelHelpers["extends"]({},C)):l.jsx(q,babelHelpers["extends"]({},C))]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.handleLoadNext,d=a.hasNext;a=a.isLoadingNext;return l.jsx(c("IGDSInfiniteScrollTrigger.react"),{"data-testid":void 0,hasMore:d,isLoading:a,onLoadMore:b,children:l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.handleLoadNext,e=a.hasNext;a=a.isLoadingNext;if(a)return l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})});return e?l.jsx(c("IGDSBox.react"),{alignItems:"start",height:"42px",marginBottom:4,marginTop:4,children:l.jsx(c("BaseButton.react"),{onClick:b,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",children:d("PolarisGenericStrings").VIEW_MORE_COMMENTS_TEXT})})}):null}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentsContainer.react",["CometRelay","PolarisPostAllComments.react","PolarisPostCommentsContainerQuery.graphql","PolarisPostCommentsContainer_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=h!==void 0?h:h=b("PolarisPostCommentsContainerQuery.graphql");function a(a){var e=a.adInfo,f=a.commentsQuery,g=a.enablePersistentCta,h=a.media$key,j=a.postCaptionComponent;j=j===void 0?null:j;a=a.xStyle;f=d("CometRelay").usePreloadedQuery(l,f);h=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostCommentsContainer_media.graphql"),h);return k.jsx(c("PolarisPostAllComments.react"),{adInfo:e,enablePersistentCta:g,media$key:h,paginationQuery:f,postCaptionComponent:j,shouldUseInfiniteScroll:!0,xStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentInputRevamped.react",["CometRelay","PolarisCommentsSortContext","PolarisDsaQEHelpers","PolarisPendingCommentState","PolarisPostCommentInput.react","PolarisPostCommentInputRevampedMutation.graphql","PolarisSortCommentsUtil","Promise","polarisGetXDTCommentDict","react","usePolarisAnalyticsContext","usePolarisCommentInputRevamped","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext,m=h!==void 0?h:h=b("PolarisPostCommentInputRevampedMutation.graphql");function a(a){var e=a.adInfo,f=a.isLoggedIn,g=a.isRevampedMobileInput;g=g===void 0?!1:g;var h=a.isSidecar,j=a.isVideo,n=a.ownerID,o=a.postID,p=a.postOwnerUsername,q=a.replyingToBarWithinInput;q=q===void 0?!1:q;a=a.viewerProfilePicture;var r=c("usePolarisAnalyticsContext")(),s=c("usePolarisSelector")(function(a){return(a=a.pendingComments[o])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT}),t=d("CometRelay").useMutation(m),u=t[0];t=l(d("PolarisCommentsSortContext").PolarisCommentsSortContext);var v=t.commentsSortOrder;t=c("usePolarisCommentInputRevamped")(o,h,j);var w=t.onCommit,x=t.onComplete,y=t.onError;h=function a(e,f,g,h){w();var j=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:o,sort_order:v});g=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:o,parent_comment_id:(g=g)!=null?g:f});u({onCompleted:function(a){x(a.xdt_web__comments__media_id__add_queryable.node.text,a.xdt_web__comments__media_id__add_queryable.node.pk,n,h,s.repliedToCommentAuthorId,s.repliedToCommentParentId)},onError:function(){y(a,e,h,s.repliedToCommentAuthorId,s.repliedToCommentParentId)},updater:function(a){if(d("PolarisDsaQEHelpers").hasCommentsSortEnabled(!0))for(var b=d("PolarisSortCommentsUtil").commentsOptions,e=Array.isArray(b),g=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h!==v){h=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:o,sort_order:h});(h=a.get(h))==null?void 0:h.invalidateRecord()}}if(f==null)return;h=c("polarisGetXDTCommentDict")(a,f);e=(g=h==null?void 0:h.getValue("child_comment_count"))!=null?g:0;h==null?void 0:h.setValue(Number(e)+1,"child_comment_count")},variables:{connections:[f==null?j:g],media_id:o,request_data:{comment_text:e,replied_to_comment_id:f}}});return(i||(i=b("Promise"))).resolve()};return k.jsx(c("PolarisPostCommentInput.react"),{adInfo:e,analyticsContext:r,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:o,inModal:!1,isLoggedIn:f,isRevampedMobileInput:g,isRevampVersion:!0,isVideo:j,onCommentSubmitOverride:h,ownerId:n,postOwnerUsername:p,replyingToBarWithinInput:q,viewerProfilePicture:(t=a)!=null?t:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);